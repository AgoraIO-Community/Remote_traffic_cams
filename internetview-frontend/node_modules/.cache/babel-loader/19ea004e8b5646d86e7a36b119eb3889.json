{"ast":null,"code":"import _classCallCheck from \"/opt/internetview-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/opt/internetview-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/opt/internetview-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/opt/internetview-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/opt/internetview-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/opt/internetview-frontend/src/pages/Interview.js\";\nimport React, { Component } from \"react\";\nimport { browserHistory } from \"react-router\";\nimport { Grid } from \"@material-ui/core\";\nimport NavBar from \"../components/NavBar\";\nimport JobListItem from \"../components/JobListItem\";\nimport \"../styles/App.css\";\n\nvar Interview =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Interview, _Component);\n\n  function Interview(props) {\n    var _this;\n\n    _classCallCheck(this, Interview);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Interview).call(this, props));\n    _this.state = {\n      remoteId: \"\",\n      joined: false,\n      client: null,\n      localStream: null\n    };\n    _this.video = React.createRef();\n    return _this;\n  }\n\n  _createClass(Interview, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var JoinButton = null;\n      var LeaveButton = null;\n\n      if (this.state.joined == false) {\n        JoinButton = React.createElement(\"button\", {\n          style: {\n            borderRadius: 10,\n            height: 60,\n            width: 500,\n            fontSize: 36,\n            backgroundColor: \"green\"\n          },\n          onClick: function onClick() {\n            return _this2.join();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 19\n          },\n          __self: this\n        }, \"Join The Interview Call\");\n        LeaveButton = null;\n      } else {\n        JoinButton = null;\n        LeaveButton = React.createElement(\"button\", {\n          style: {\n            borderRadius: 10,\n            height: 60,\n            width: 500,\n            fontSize: 36,\n            backgroundColor: \"red\"\n          },\n          onClick: function onClick() {\n            return _this2.leave();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 28\n          },\n          __self: this\n        }, \"Leave The Interview Call\");\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, React.createElement(NavBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }), JoinButton, LeaveButton, React.createElement(\"div\", {\n        ref: this.video,\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"agora_local\",\n        className: \"local\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"agora_remote\" + this.state.remoteId,\n        className: \"remote\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      })));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }, {\n    key: \"join\",\n    value: function join() {\n      var _this3 = this;\n\n      this.setState({\n        joined: true\n      });\n      var video = this.video.current;\n\n      if (!window.AgoraRTC.checkSystemRequirements()) {\n        alert(\"Your browser does not support WebRTC!\");\n      } else {\n        var client = window.AgoraRTC.createClient({\n          mode: 'interop'\n        });\n        client.init(\"6798b872eda341cb826f1228fb6b4ad2\", function () {\n          console.log(\"AgoraRTC client initialized\");\n          client.join(null, \"1\", null, function (uid) {\n            console.log(\"User \" + uid + \" join channel successfully\");\n            var localStream = window.AgoraRTC.createStream({\n              streamID: uid,\n              audio: true,\n              video: true,\n              screen: false\n            });\n            localStream.setVideoProfile('720p_3');\n            localStream.on(\"accessAllowed\", function () {\n              console.log(\"accessAllowed\");\n            });\n            localStream.on(\"accessDenied\", function () {\n              console.log(\"accessDenied\");\n            });\n            localStream.init(function () {\n              console.log(\"getUserMedia successfully\");\n              localStream.play('agora_local');\n              client.publish(localStream, function (err) {\n                console.log(\"Publish local stream error: \" + err);\n              });\n              client.on('stream-published', function (evt) {\n                console.log(\"Publish local stream successfully\");\n              });\n            }, function (err) {\n              console.log(\"getUserMedia failed\", err);\n            });\n\n            _this3.setState({\n              localStream: localStream\n            });\n          }, function (err) {\n            console.log(\"Join channel failed\", err);\n          });\n        }, function (err) {\n          console.log(\"AgoraRTC client init failed\", err);\n        });\n        client.on('error', function (err) {\n          console.log(\"Got error msg:\", err.reason);\n\n          if (err.reason === 'DYNAMIC_KEY_TIMEOUT') {\n            client.renewChannelKey(\"\", function () {\n              console.log(\"Renew channel key successfully\");\n            }, function (err) {\n              console.log(\"Renew channel key failed: \", err);\n            });\n          }\n        });\n        client.on('stream-added', function (evt) {\n          var stream = evt.stream;\n          console.log(\"New stream added: \" + stream.getId());\n          console.log(\"Subscribe \", stream);\n          client.subscribe(stream, function (err) {\n            console.log(\"Subscribe stream failed\", err);\n          });\n        });\n        client.on('stream-subscribed', function (evt) {\n          var stream = evt.stream;\n          console.log(\"Subscribe remote stream successfully: \" + stream.getId());\n\n          _this3.setState({\n            remoteId: stream.getId()\n          });\n\n          stream.play('agora_remote' + stream.getId());\n        });\n        client.on('stream-removed', function (evt) {\n          var stream = evt.stream;\n          stream.stop();\n\n          _this3.setState({\n            remoteId: null\n          });\n\n          console.log(\"Remote stream is removed \" + stream.getId());\n        });\n        client.on('peer-leave', function (evt) {\n          var stream = evt.stream;\n\n          if (stream) {\n            stream.stop();\n\n            _this3.setState({\n              remoteId: null\n            });\n\n            console.log(evt.uid + \" leaved from this channel\");\n          }\n        });\n        this.setState({\n          client: client\n        });\n      }\n    }\n  }, {\n    key: \"leave\",\n    value: function leave() {\n      this.setState({\n        joined: false\n      });\n      var client = this.state.client;\n      var localStream = this.state.localStream;\n      client.leave(function () {\n        console.log(\"Leavel channel successfully\");\n      }, function (err) {\n        console.log(\"Leave channel failed\");\n      });\n      client.unpublish(localStream, function (err) {\n        console.log(\"Unpublish local stream failed\" + err);\n      });\n      browserHistory.goBack();\n    }\n  }]);\n\n  return Interview;\n}(Component);\n\nexport default Interview;","map":{"version":3,"sources":["/opt/internetview-frontend/src/pages/Interview.js"],"names":["React","Component","browserHistory","Grid","NavBar","JobListItem","Interview","props","state","remoteId","joined","client","localStream","video","createRef","JoinButton","LeaveButton","borderRadius","height","width","fontSize","backgroundColor","join","leave","setState","current","window","AgoraRTC","checkSystemRequirements","alert","createClient","mode","init","console","log","uid","createStream","streamID","audio","screen","setVideoProfile","on","play","publish","err","evt","reason","renewChannelKey","stream","getId","subscribe","stop","unpublish","goBack"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { browserHistory } from \"react-router\";\nimport {Grid} from \"@material-ui/core\";\nimport NavBar from \"../components/NavBar\";\nimport JobListItem from \"../components/JobListItem\";\nimport \"../styles/App.css\";\n\nclass Interview extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {remoteId: \"\", joined: false, client: null, localStream: null};\n        this.video = React.createRef();\n    }\n    render() {\n        let JoinButton = null;\n        let LeaveButton = null;\n        if (this.state.joined == false) {\n            JoinButton = (\n                <button style={{borderRadius: 10, height: 60, width: 500, fontSize: 36, backgroundColor: \"green\"}}\n                    onClick={() => this.join()}>\n                    Join The Interview Call\n                </button>\n            )\n            LeaveButton = null;\n        } else {\n            JoinButton = null;\n            LeaveButton = (\n                <button style={{borderRadius: 10, height: 60, width: 500, fontSize: 36, backgroundColor: \"red\"}}\n                    onClick={() => this.leave()}>\n                    Leave The Interview Call\n                </button>\n            )\n        }\n        return (\n            <div>\n                <NavBar />\n                {JoinButton}\n                {LeaveButton}\n                <div ref={this.video} className=\"container\">\n                    <div id=\"agora_local\" className = \"local\"></div>\n                    <div id={\"agora_remote\"+this.state.remoteId} className = \"remote\"></div>\n                </div>\n\n            </div>\n\n        );\n    }\n    componentDidMount() {\n\n    }\n    join(){\n        this.setState({joined: true});\n        let video = this.video.current;\n        if(!window.AgoraRTC.checkSystemRequirements()) {\n            alert(\"Your browser does not support WebRTC!\");\n        } else {\n            let client = window.AgoraRTC.createClient({mode: 'interop'});\n            client.init(\"6798b872eda341cb826f1228fb6b4ad2\", () => {\n                console.log(\"AgoraRTC client initialized\");\n                client.join(null, \"1\", null, (uid) => {\n                    console.log(\"User \" + uid + \" join channel successfully\");\n                    let localStream = window.AgoraRTC.createStream({\n                        streamID: uid,\n                        audio: true,\n                        video: true,\n                        screen: false\n                    });\n                    localStream.setVideoProfile('720p_3');\n                    localStream.on(\"accessAllowed\", function() {\n                        console.log(\"accessAllowed\");\n                    });\n                    localStream.on(\"accessDenied\", function() {\n                      console.log(\"accessDenied\");\n                    });\n                    localStream.init( function () {\n                        console.log(\"getUserMedia successfully\");\n                        localStream.play('agora_local');\n                        client.publish(localStream, function (err) {\n                            console.log(\"Publish local stream error: \" + err);\n                        });\n                        client.on('stream-published', function (evt) {\n                            console.log(\"Publish local stream successfully\");\n                         });\n                    }, function (err) {\n                      console.log(\"getUserMedia failed\", err);\n                    });\n                    this.setState({localStream});\n                }, function(err) {\n                  console.log(\"Join channel failed\", err);\n                });\n            }, function (err) {\n                console.log(\"AgoraRTC client init failed\", err);\n            });\n            client.on('error', function(err) {\n                console.log(\"Got error msg:\", err.reason);\n                if (err.reason === 'DYNAMIC_KEY_TIMEOUT') {\n                  client.renewChannelKey(\"\", function(){\n                    console.log(\"Renew channel key successfully\");\n                  }, function(err){\n                    console.log(\"Renew channel key failed: \", err);\n                  });\n                }\n            });\n            client.on('stream-added', function (evt) {\n                let stream = evt.stream;\n                console.log(\"New stream added: \" + stream.getId());\n                console.log(\"Subscribe \", stream);\n                client.subscribe(stream, function (err) {\n                  console.log(\"Subscribe stream failed\", err);\n                });\n            });\n            client.on('stream-subscribed', (evt) => {\n                let stream = evt.stream;\n                console.log(\"Subscribe remote stream successfully: \" + stream.getId());\n                this.setState({remoteId: stream.getId()});\n                stream.play('agora_remote' + stream.getId());\n            });\n            client.on('stream-removed', (evt) => {\n                let stream = evt.stream;\n                stream.stop();\n                this.setState({remoteId: null});\n                console.log(\"Remote stream is removed \" + stream.getId());\n            });\n            client.on('peer-leave', (evt) => {\n                let stream = evt.stream;\n                if (stream) {\n                  stream.stop();\n                  this.setState({remoteId: null});\n                  console.log(evt.uid + \" leaved from this channel\");\n                }\n            });\n            this.setState({client});\n        }\n\n    }\n    leave(){\n        this.setState({joined: false})\n        let client = this.state.client;\n        let localStream = this.state.localStream;\n        client.leave(function () {\n            console.log(\"Leavel channel successfully\");\n        }, function (err) {\n            console.log(\"Leave channel failed\");\n        })\n        client.unpublish(localStream, function (err) {\n            console.log(\"Unpublish local stream failed\" + err);\n        });\n        browserHistory.goBack();\n    }\n}\n\nexport default Interview;"]},"metadata":{},"sourceType":"module"}