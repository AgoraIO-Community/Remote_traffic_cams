{"ast":null,"code":"import _classCallCheck from \"/opt/internetview-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/opt/internetview-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/opt/internetview-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/opt/internetview-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/opt/internetview-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/opt/internetview-frontend/src/pages/Offers.js\";\nimport React, { Component } from \"react\";\nimport jwtDecode from \"jwt-decode\";\nimport { Grid } from \"@material-ui/core\";\nimport https from \"../services/https\";\nimport NavBar from \"../components/NavBar\";\nimport OfferListItem from \"../components/OfferListItem\";\n\nvar Offers =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Offers, _Component);\n\n  function Offers(props) {\n    var _this;\n\n    _classCallCheck(this, Offers);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Offers).call(this, props));\n    _this.state = {\n      list: []\n    };\n    return _this;\n  }\n\n  _createClass(Offers, [{\n    key: \"render\",\n    value: function render() {\n      var OfferList = this.state.list.map(function (offer, key) {\n        return React.createElement(OfferListItem, {\n          key: key,\n          company: offer.post.companyname,\n          position: offer.post.jobtitle,\n          location: offer.post.location,\n          meetingTime: offer.meetingtime,\n          userStatus: offer.confirmed,\n          corporateStatus: offer.accepted,\n          applicationId: offer.applicationid,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 15\n          },\n          __self: this\n        });\n      });\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20\n        },\n        __self: this\n      }, React.createElement(NavBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21\n        },\n        __self: this\n      }), OfferList);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var token = localStorage.getItem(\"token\");\n\n      if (token != null && jwtDecode(token).accountType == \"user\") {\n        https.get(\"/api/user/applications\").then(function (response) {\n          console.log(response.data);\n          if (response.data.length == 0) return;\n\n          var _loop = function _loop(i) {\n            _this2.setState(function (state) {\n              state.list = state.list.concat(response.data[0][i]);\n              return state;\n            });\n          };\n\n          for (var i = 0; i < response.data[0].length; i++) {\n            _loop(i);\n          }\n        });\n      }\n    }\n  }]);\n\n  return Offers;\n}(Component);\n\nexport default Offers;","map":{"version":3,"sources":["/opt/internetview-frontend/src/pages/Offers.js"],"names":["React","Component","jwtDecode","Grid","https","NavBar","OfferListItem","Offers","props","state","list","OfferList","map","offer","key","post","companyname","jobtitle","location","meetingtime","confirmed","accepted","applicationid","token","localStorage","getItem","accountType","get","then","response","console","log","data","length","i","setState","concat"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAAQC,IAAR,QAAmB,mBAAnB;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,aAAP,MAA0B,6BAA1B;;IAEMC,M;;;;;AACF,kBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,gFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AAACC,MAAAA,IAAI,EAAE;AAAP,KAAb;AAFe;AAGlB;;;;6BACQ;AACL,UAAIC,SAAS,GAAG,KAAKF,KAAL,CAAWC,IAAX,CAAgBE,GAAhB,CAAoB,UAACC,KAAD,EAAQC,GAAR,EAAgB;AAChD,eAAO,oBAAC,aAAD;AAAe,UAAA,GAAG,EAAEA,GAApB;AAAyB,UAAA,OAAO,EAAED,KAAK,CAACE,IAAN,CAAWC,WAA7C;AAA0D,UAAA,QAAQ,EAAEH,KAAK,CAACE,IAAN,CAAWE,QAA/E;AACH,UAAA,QAAQ,EAAEJ,KAAK,CAACE,IAAN,CAAWG,QADlB;AAC4B,UAAA,WAAW,EAAEL,KAAK,CAACM,WAD/C;AAC4D,UAAA,UAAU,EAAEN,KAAK,CAACO,SAD9E;AAEH,UAAA,eAAe,EAAEP,KAAK,CAACQ,QAFpB;AAE8B,UAAA,aAAa,EAAIR,KAAK,CAACS,aAFrD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AAGH,OAJe,CAAhB;AAKA,aACI;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEKX,SAFL,CADJ;AAOH;;;wCACmB;AAAA;;AAChB,UAAIY,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ;;AACA,UAAIF,KAAK,IAAI,IAAT,IAAiBrB,SAAS,CAACqB,KAAD,CAAT,CAAiBG,WAAjB,IAAgC,MAArD,EAA6D;AACzDtB,QAAAA,KAAK,CAACuB,GAAN,CAAU,wBAAV,EAAoCC,IAApC,CAAyC,UAACC,QAAD,EAAc;AACtDC,UAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB;AACX,cAAKH,QAAQ,CAACG,IAAT,CAAcC,MAAd,IAAwB,CAA7B,EAAgC;;AAFiC,qCAGxDC,CAHwD;AAI/C,YAAA,MAAI,CAACC,QAAL,CAAc,UAAC1B,KAAD,EAAW;AACrBA,cAAAA,KAAK,CAACC,IAAN,GAAaD,KAAK,CAACC,IAAN,CAAW0B,MAAX,CAAkBP,QAAQ,CAACG,IAAT,CAAc,CAAd,EAAiBE,CAAjB,CAAlB,CAAb;AACA,qBAAOzB,KAAP;AACH,aAHD;AAJ+C;;AAGjE,eAAK,IAAIyB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,QAAQ,CAACG,IAAT,CAAc,CAAd,EAAiBC,MAArC,EAA6CC,CAAC,EAA9C,EAAkD;AAAA,kBAAzCA,CAAyC;AAKnC;AACJ,SATD;AAUH;AAEJ;;;;EAlCgBjC,S;;AAsCrB,eAAeM,MAAf","sourcesContent":["import React, { Component } from \"react\";\nimport jwtDecode from \"jwt-decode\";\nimport {Grid} from \"@material-ui/core\";\nimport https from \"../services/https\";\nimport NavBar from \"../components/NavBar\";\nimport OfferListItem from \"../components/OfferListItem\";\n\nclass Offers extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {list: []};\n    }\n    render() {\n        let OfferList = this.state.list.map((offer, key) => {\n            return <OfferListItem key={key} company={offer.post.companyname} position={offer.post.jobtitle}\n                location={offer.post.location} meetingTime={offer.meetingtime} userStatus={offer.confirmed}\n                corporateStatus={offer.accepted} applicationId = {offer.applicationid}/>\n        });\n        return (\n            <div className=\"container\">\n                <NavBar />\n                {OfferList}\n            </div>\n\n        );\n    }\n    componentDidMount() {\n        let token = localStorage.getItem(\"token\");\n        if (token != null && jwtDecode(token).accountType == \"user\") {\n            https.get(\"/api/user/applications\").then((response) => {\n            \tconsole.log(response.data);\n\t\tif ( response.data.length == 0) return;\n\t\tfor (let i = 0; i < response.data[0].length; i++) {\n                    this.setState((state) => {\n                        state.list = state.list.concat(response.data[0][i]);\n                        return state;\n                    });\n                }\n            });\n        }\n\n    }\n\n}\n\nexport default Offers;\n"]},"metadata":{},"sourceType":"module"}