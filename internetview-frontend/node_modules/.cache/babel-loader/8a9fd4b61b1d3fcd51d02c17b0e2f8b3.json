{"ast":null,"code":"import _objectSpread from \"/opt/internetview-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/opt/internetview-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/opt/internetview-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/opt/internetview-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/opt/internetview-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/opt/internetview-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/opt/internetview-frontend/src/pages/Offers.js\";\nimport React, { Component } from \"react\";\nimport jwtDecode from \"jwt-decode\";\nimport { Grid } from \"@material-ui/core\";\nimport https from \"../services/https\";\nimport NavBar from \"../components/NavBar\";\nimport OfferListItem from \"../components/OfferListItem\";\n\nvar Offers =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Offers, _Component);\n\n  function Offers(props) {\n    var _this;\n\n    _classCallCheck(this, Offers);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Offers).call(this, props));\n    _this.state = {\n      list: []\n    };\n    return _this;\n  }\n\n  _createClass(Offers, [{\n    key: \"render\",\n    value: function render() {\n      var OfferList = this.state.list.map(function (offer, key) {\n        return React.createElement(OfferListItem, {\n          key: key,\n          company: offer.post.companyname,\n          position: offer.jobtitle,\n          location: offer.location,\n          meetingTime: offer.meetingtime,\n          userStatus: offer.confirmed,\n          corporateStatus: offer.accepted,\n          applicationId: offer.applicationid,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 15\n          },\n          __self: this\n        });\n      });\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20\n        },\n        __self: this\n      }, React.createElement(NavBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21\n        },\n        __self: this\n      }), OfferList);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var token = localStorage.getItem(\"token\");\n\n      if (token != null && jwtDecode(token).accountType == \"user\") {\n        https.get(\"/api/user/applications\").then(function (response) {\n          if (response.data.length == 0) return;\n          var list = [];\n\n          for (var i = 0; i < response.data[0].length; i++) {\n            var temp = response.data[0][i].post;\n            delete response.data[0][i].post;\n            list.push(_objectSpread({}, response.data[0][i], temp));\n          }\n\n          var _loop = function _loop(_i) {\n            _this2.setState(function (state) {\n              state.list = state.list.concat(response.data[0][_i]);\n              return state;\n            });\n          };\n\n          for (var _i = 0; _i < response.data[0].length; _i++) {\n            _loop(_i);\n          }\n        });\n      } else {\n        https.get(\"/api/corporate/applications\").then(function (response) {\n          var counter = 0;\n          var list = [];\n\n          for (var i = 0; i < response.data.length; i++) {\n            if (response.data[i].applications.length != 0) {\n              for (var j = 0; j < response.data[i].applications.length; j++) {\n                list.push(_objectSpread({}, response.data[i].applications[j], {\n                  salary: response.data[i].salary,\n                  title: response.data[i].jobtitle,\n                  location: response.data[i].location\n                }));\n              }\n\n              counter++;\n            }\n          }\n\n          for (var k = 0; k < counter; k++) {\n            _this2.setState(function (state) {\n              state.list = state.list.concat(list);\n              return state;\n            });\n          }\n        });\n      }\n    }\n  }]);\n\n  return Offers;\n}(Component);\n\nexport default Offers;","map":{"version":3,"sources":["/opt/internetview-frontend/src/pages/Offers.js"],"names":["React","Component","jwtDecode","Grid","https","NavBar","OfferListItem","Offers","props","state","list","OfferList","map","offer","key","post","companyname","jobtitle","location","meetingtime","confirmed","accepted","applicationid","token","localStorage","getItem","accountType","get","then","response","data","length","i","temp","push","setState","concat","counter","applications","j","salary","title","k"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport jwtDecode from \"jwt-decode\";\nimport {Grid} from \"@material-ui/core\";\nimport https from \"../services/https\";\nimport NavBar from \"../components/NavBar\";\nimport OfferListItem from \"../components/OfferListItem\";\n\nclass Offers extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {list: []};\n    }\n    render() {\n        let OfferList = this.state.list.map((offer, key) => {\n            return <OfferListItem key={key} company={offer.post.companyname} position={offer.jobtitle}\n                location={offer.location} meetingTime={offer.meetingtime} userStatus={offer.confirmed}\n                corporateStatus={offer.accepted} applicationId = {offer.applicationid}/>\n        });\n        return (\n            <div className=\"container\">\n                <NavBar />\n                {OfferList}\n            </div>\n\n        );\n    }\n    componentDidMount() {\n        let token = localStorage.getItem(\"token\");\n        if (token != null && jwtDecode(token).accountType == \"user\") {\n            https.get(\"/api/user/applications\").then((response) => {\n\t\t        if ( response.data.length == 0) return;\n                let list = [];\n                for (let i = 0; i < response.data[0].length; i++) {\n                    let temp = response.data[0][i].post;\n                    delete response.data[0][i].post;\n                    list.push({...response.data[0][i], ...temp})\n                }\n\t\t        for (let i = 0; i < response.data[0].length; i++) {\n                    this.setState((state) => {\n                        state.list = state.list.concat(response.data[0][i]);\n                        return state;\n                    });\n                }\n            });\n        } else {\n            https.get(\"/api/corporate/applications\").then((response) => {\n                let counter = 0;\n                let list = [];\n                for (let i = 0; i < response.data.length; i++) {\n                    if (response.data[i].applications.length != 0) {\n                        for (let j = 0; j < response.data[i].applications.length; j++) {\n                            list.push({...response.data[i].applications[j],\n                                salary: response.data[i].salary,\n                                title: response.data[i].jobtitle,\n                                location: response.data[i].location\n                            });\n                        }\n                        counter++;\n                    }\n                }\n                for (let k = 0; k < counter; k++) {\n                    this.setState((state) => {\n                        state.list = state.list.concat(list);\n                        return state;\n                    });\n                }\n            });\n        }\n\n    }\n\n}\n\nexport default Offers;\n"]},"metadata":{},"sourceType":"module"}