{"ast":null,"code":"import _classCallCheck from \"/opt/internetview-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/opt/internetview-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/opt/internetview-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/opt/internetview-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/opt/internetview-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/opt/internetview-frontend/src/pages/Login.js\";\nimport React, { Component } from \"react\";\nimport { Grid, Select, MenuItem } from \"@material-ui/core\";\nimport { browserHistory } from \"react-router\";\nimport https from \"../services/https\";\nimport NavBar from \"../components/NavBar\";\nimport ErrorMessage from \"../components/ErrorMessage\";\nimport \"../styles/App.css\";\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n    _this.state = {\n      email: \"\",\n      password: \"\",\n      type: \"user\",\n      error: null\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 16\n        },\n        __self: this\n      }, React.createElement(NavBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 17\n        },\n        __self: this\n      }), React.createElement(ErrorMessage, {\n        message: this.state.error,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 18\n        },\n        __self: this\n      }), React.createElement(Grid, {\n        container: true,\n        direction: \"column\",\n        justify: \"center\",\n        alignItems: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 19\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        value: this.state.email,\n        className: \"textInput\",\n        onChange: function onChange(event) {\n          return _this2.setState({\n            email: event.target.value\n          });\n        },\n        placeholder: \"Email\",\n        autoFocus: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"password\",\n        value: this.state.password,\n        className: \"textInput\",\n        onChange: function onChange(event) {\n          return _this2.setState({\n            password: event.target.value\n          });\n        },\n        placeholder: \"Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23\n        },\n        __self: this\n      }), React.createElement(Grid, {\n        container: true,\n        direction: \"row\",\n        justify: \"center\",\n        alignItems: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          fontSize: 32,\n          marginRight: 20,\n          marginTop: 30\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      }, \"Account Type:\"), React.createElement(Select, {\n        className: \"selectInput\",\n        value: this.state.type,\n        onChange: function onChange(event) {\n          return _this2.setState({\n            type: event.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }, React.createElement(MenuItem, {\n        value: \"user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          fontSize: 32\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, \"User\")), React.createElement(MenuItem, {\n        value: \"corporate\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          fontSize: 32\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, \"Corporate\")))), React.createElement(\"button\", {\n        style: {\n          borderRadius: 10,\n          height: 80,\n          width: 400,\n          fontSize: 32,\n          marginTop: 60,\n          backgroundColor: \"rgb(40, 172, 255)\"\n        },\n        onClick: function onClick() {\n          return _this2.login();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, \"Log In\")));\n    }\n  }, {\n    key: \"login\",\n    value: function login() {\n      var _this3 = this;\n\n      var data = {\n        email: this.state.email,\n        password: this.state.password\n      };\n\n      if (this.state.email != \"\" && this.state.password != \"\") {\n        if (this.state.type == \"user\") {\n          https.post(\"/auth/login/user\", data).then(function (response) {\n            localStorage.setItem(\"token\", JSON.stringify(response.data));\n            browserHistory.push('/jobs');\n          }).catch(function (error) {\n            _this3.setState({\n              error: \"Log in failed\"\n            });\n\n            setTimeout(function () {\n              _this3.setState({\n                error: null\n              });\n            }, 1000);\n          });\n        } else {\n          https.post(\"/auth/login/corporate\", data).then(function (response) {\n            console.log(response.data);\n            localStorage.setItem(\"token\", JSON.stringify(response.data));\n            browserHistory.push('/applicants');\n          }).catch(function (error) {\n            _this3.setState({\n              error: \"Log in failed\"\n            });\n\n            setTimeout(function () {\n              _this3.setState({\n                error: null\n              });\n            }, 1000);\n          });\n        }\n      }\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport default Login;","map":{"version":3,"sources":["/opt/internetview-frontend/src/pages/Login.js"],"names":["React","Component","Grid","Select","MenuItem","browserHistory","https","NavBar","ErrorMessage","Login","props","state","email","password","type","error","event","setState","target","value","fontSize","marginRight","marginTop","borderRadius","height","width","backgroundColor","login","data","post","then","response","localStorage","setItem","JSON","stringify","push","catch","setTimeout","console","log"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {Grid, Select, MenuItem} from \"@material-ui/core\";\nimport { browserHistory } from \"react-router\";\nimport https from \"../services/https\";\nimport NavBar from \"../components/NavBar\";\nimport ErrorMessage from \"../components/ErrorMessage\";\nimport \"../styles/App.css\";\n\nclass Login extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {email: \"\", password: \"\", type: \"user\", error: null};\n    }\n    render() {\n        return (\n            <div className=\"container\">\n                <NavBar />\n                <ErrorMessage message={this.state.error} />\n                <Grid container direction=\"column\" justify=\"center\" alignItems=\"center\">\n                    <input value={this.state.email} className=\"textInput\"\n                    onChange={(event) => this.setState({email: event.target.value})}\n                    placeholder=\"Email\" autoFocus={true} />\n                    <input type=\"password\" value={this.state.password} className=\"textInput\"\n                    onChange={(event) => this.setState({password: event.target.value})}\n                    placeholder=\"Password\" />\n                    <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\">\n                        <div style={{fontSize: 32, marginRight: 20, marginTop: 30}}>Account Type:</div>\n                        <Select className=\"selectInput\" value={this.state.type}\n                        onChange={(event) => this.setState({type: event.target.value})}>\n                            <MenuItem value=\"user\">\n                              <div style={{fontSize: 32}}>User</div>\n                            </MenuItem>\n                            <MenuItem value=\"corporate\">\n                              <div style={{fontSize: 32}}>Corporate</div>\n                            </MenuItem>\n                        </Select>\n                    </Grid>\n                    <button style={{borderRadius: 10, height: 80, width: 400, fontSize: 32, marginTop: 60, backgroundColor: \"rgb(40, 172, 255)\"}}\n                        onClick={() => this.login()}>\n                        Log In\n                    </button>\n                </Grid>\n            </div>\n\n\n        );\n    }\n    login() {\n        let data = {\n            email: this.state.email,\n            password: this.state.password\n        };\n        if (this.state.email != \"\" && this.state.password != \"\") {\n            if (this.state.type == \"user\") {\n                https.post(\"/auth/login/user\", data).then((response) => {\n                    localStorage.setItem(\"token\", JSON.stringify(response.data));\n                    browserHistory.push('/jobs');\n                }).catch((error) => {\n                    this.setState({error: \"Log in failed\"});\n                    setTimeout(() => {\n                        this.setState({error: null});\n                    }, 1000);\n                });\n            }\n            else {\n                https.post(\"/auth/login/corporate\", data).then((response) => {\n                    console.log(response.data);\n                    localStorage.setItem(\"token\", JSON.stringify(response.data));\n                    browserHistory.push('/applicants');\n                }).catch((error) => {\n                    this.setState({error: \"Log in failed\"});\n                    setTimeout(() => {\n                        this.setState({error: null});\n                    }, 1000);\n                });\n            }\n\n        }\n    }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}